name: Deploy to Hosting Server

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Deploy to Hosting
        run: |
          HOSTNAME: 184.168.30.235
          USERNAME: ${{ secrets.FTP_USERNAME }}
          PASSWORD: ${{ secrets.FTP_PASSWORD }}
          LOCAL_DIR: /c/Users/jomia/'OneDrive - Marketoo'/'Fase 1 - Ignition'/Marketing/Website/Script/Codigo
          REMOTE_DIR: ./public_html/

          lftp -e "open -u $USERNAME,$PASSWORD $HOSTNAME; mirror -R $LOCAL_DIR $REMOTE_DIR; exit"

